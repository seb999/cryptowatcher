@{
    ViewData["Title"] = "Home Page";
}
<div ng-app="MyApp" ng-controller="homeController" class="custom-container">

    <h3>Poloniex dashboard</h3>

@*Popover template for the grid*@
    <script type="text/ng-template" id="myPopoverTemplate.html">
        <div style="hidden;">
            <chart title="" data="dynamicPopover.chartDayData" enablerangeselector="false" enablenavigator="false" macdheight="'0%'" volumeheight="'20%'" indicators="" ismacdvisible="false" loading="chartLoading" style="width:250px;height:300px;margin-right:5px;margin-left:5px"></chart>
             <button type="button" class="btn btn-labeled btn-success btn-sm" ng-click="addTab(dynamicPopover.currencyName)">
                <span class="btn-label"><i class="fa fa-bar-chart" aria-hidden="true"></i></span> Show currency
            </button>

        </div>
    </script>

    @*Loader*@
    <div ng-show="loaderVisibility" class="overlay"></div>
    <div ng-show="loaderVisibility" id="spinner"></div>

    <div class="row">
        <div class="col-md-1">
            <button type="button" class="btn btn-labeled btn-success btn-sm" ng-click="refreshData();">
                <span class="btn-label"><i class="fa fa-refresh" aria-hidden="true"></i></span> Refresh
            </button>
        </div>

        <div ng-show="newCurrencyList.length > 0" class="ng-hide alert alert-warning col-md-10" role="alert" style="margin-left:15px;margin-bottom:0px; padding-top:5px !important;padding-bottom:6px !important" ng-cloak>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <strong>Info, new currency available! </strong>
            <span ng-repeat="item in newCurrencyList" ng-cloak>
                {{item.currencyName}};&nbsp;
            </span>
        </div>

    </div>
    <div class="mainDiv" style="display: none;">
        <br />
        <uib-tabset active="activeTab">

            <uib-tab index="0">
                <uib-tab-heading>
                    <img class="hidden-xs" src="~/images/bitcoin.png" /> BTC
                </uib-tab-heading>
                
                <table class="table table-striped table-bordered" style="margin-top:7px">
                    <thead >
                        <tr class="headerTable">
                            <th></th>
                            <th ng-click="sortType ='name'; sortReverse = !sortReverse" style="cursor:pointer">
                                <div class="dropdown" style="float:left;margin-top:7px; margin-left:7px">Name&nbsp;</div>
                                <div class="dropdown" style="float:left;">
                                   <input ng-click="$event.stopPropagation();" type="text" ng-model="f.name" style="width:85px;height:30px" class="form-control input-sm" placeholder="Search coin..." uib-typeahead="currency.name for currency in currencyListBTC| filter:{name:$viewValue} " typeahead-show-hint="true" typeahead-min-length="2" ng-keyup="$event.keyCode == 13 && filterTable();" />
                                </div>
                                <span ng-cloak ng-show="sortType == 'name' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'name' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th ng-click="sortType ='last'; sortReverse = !sortReverse" style="cursor:pointer">
                                Last
                                <span ng-cloak ng-show="sortType == 'last' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'last' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th class="hidden-sm hidden-xs" ng-click="sortType ='lowestAsk'; sortReverse = !sortReverse" style="cursor:pointer">
                                LowestAsk
                                <span ng-cloak ng-show="sortType == 'lowestAsk' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'lowestAsk' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th class="hidden-sm hidden-xs" ng-click="sortType ='highestBid'; sortReverse = !sortReverse" style="cursor:pointer">
                                HighestBid
                                <span ng-cloak ng-show="sortType == 'highestBid' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'highestBid' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th class="hidden-sm hidden-xs" ng-click="sortType ='baseVolume'; sortReverse = !sortReverse" style="cursor:pointer">
                                BaseVolume
                                <span ng-cloak ng-show="sortType == 'baseVolume' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'baseVolume' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th class="hidden-sm hidden-xs" ng-click="sortType ='quoteVolume'; sortReverse = !sortReverse" style="cursor:pointer">
                                QuoteVolume
                                <span ng-cloak ng-show="sortType == 'quoteVolume' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'quoteVolume' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th class="hidden-xs" ng-click="sortType ='high24hr'; sortReverse = !sortReverse" style="cursor:pointer">
                                High24hr
                                <span ng-cloak ng-show="sortType == 'high24hr' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'high24hr' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th class="hidden-xs" ng-click="sortType ='low24hr'; sortReverse = !sortReverse" style="cursor:pointer">
                                Low24hr
                                <span ng-cloak ng-show="sortType == 'low24hr' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'low24hr' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th ng-click="sortType ='percentChange'; sortReverse = !sortReverse" style="cursor:pointer">
                                Percent Change
                                <span ng-cloak ng-show="sortType == 'percentChange' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'percentChange' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th ng-click="sortType ='rsi'; sortReverse = !sortReverse" style="cursor:pointer">
                                <div class="dropdown" style="float:left;margin-top:7px; margin-left:7px">Rsi&nbsp;</div>
                                <div class="dropdown" style="float:left;">
                                    <select ng-click="$event.stopPropagation();" class="form-control input-sm" style="width:60px;height:30px" ng-model="rsiPeriod" ng-change="changeRsiPeriod(rsiPeriod);">
                                        <option value="14">14</option>
                                        <option value="30">30</option>
                                        <option value=60>60</option>
                                        <option value=90>90</option>
                                    </select>
                                </div>
                                <span ng-cloak ng-show="sortType == 'rsi' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'rsi' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            @*</div>*@
                            </th>
                        </tr>
                    </thead>

                    <tbody>
                        <tr ng-repeat="currency in currencyListBTC| orderBy:sortType:sortReverse| filter : f" ng-cloak>
                            <td class="hidden-lg" style="cursor:pointer" ng-click="addTab(currency.name)">
                                <div style="margin-left:5px"><span class="btn-label" style="color:dodgerblue;cursor:pointer" uib-tooltip="Chart" uib-tooltip-placement="left" tooltip-append-to-body="true" ><i class="fa fa-bar-chart" aria-hidden="true"></i></span>
                                </div>
                            </td>
                            <td class="hidden-sm hidden-xs" style="cursor:pointer">
                                <a  tabindex="0" value="" uib-popover-template="dynamicPopover.templateUrl" popover-title="{{currency.name}}" popover-placement="right" popover-trigger="'outsideClick'" style="cursor:pointer" ng-click="openPopover(currency.name);">
                                    <span class="btn-label" style="color:dodgerblue;"><i class="fa fa-bar-chart" aria-hidden="true"></i></span>
                                </a>
                            </td>
                            <td><img src="~/images/bitcoin.png" class="hidden-xs" /> {{currency.name}}</td>
                            <td>{{currency.last}}</td>
                            <td class="hidden-sm hidden-xs">{{currency.lowestAsk}}</td>
                            <td class="hidden-sm hidden-xs">{{currency.highestBid}}</td>
                            <td class="hidden-sm hidden-xs">{{currency.baseVolume| number}}</td>
                            <td class="hidden-sm hidden-xs">{{currency.quoteVolume| number}}</td>
                            <td class="hidden-xs">{{currency.high24hr}}</td>
                            <td class="hidden-xs">{{currency.low24hr}}</td>
                            <td style="color:{{get24hColor(currency.percentChange)}}">{{get24hChange(currency.percentChange)}} %</td>
                            <td ng-if="currency.rsi >0">{{currency.rsi}}</td>
                            <td ng-if="currency.rsi == 0">--</td>
                            <td ng-if="currency.rsi == null" style="padding:0px"><img src="~/images/loader.gif" width="30" style="margin-right:10px;margin-left:10px" /></td>
                        </tr>
                    </tbody>
                </table>

            </uib-tab>

            <uib-tab index="1">
                <uib-tab-heading>
                    <img class="hidden-xs" src="~/images/eth.png" /> ETH
                </uib-tab-heading>

                <table class="table table-striped table-bordered" style="margin-top:7px">
                    <thead>
                        <tr class="headerTable">
                            <th></th>
                            <th ng-click="sortType ='name'; sortReverse = !sortReverse" style="cursor:pointer">
                                Name
                                <span ng-cloak ng-show="sortType == 'name' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'name' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th ng-click="sortType ='last'; sortReverse = !sortReverse" style="cursor:pointer">
                                Last
                                <span ng-cloak ng-show="sortType == 'last' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'last' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th class="hidden-sm hidden-xs" ng-click="sortType ='lowestAsk'; sortReverse = !sortReverse" style="cursor:pointer">
                                LowestAsk
                                <span ng-cloak ng-show="sortType == 'lowestAsk' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'lowestAsk' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th class="hidden-sm hidden-xs" ng-click="sortType ='highestBid'; sortReverse = !sortReverse" style="cursor:pointer">
                                HighestBid
                                <span ng-cloak ng-show="sortType == 'highestBid' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'highestBid' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th class="hidden-sm hidden-xs" ng-click="sortType ='baseVolume'; sortReverse = !sortReverse" style="cursor:pointer">
                                BaseVolume
                                <span ng-cloak ng-show="sortType == 'baseVolume' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'baseVolume' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th class="hidden-sm hidden-xs" ng-click="sortType ='quoteVolume'; sortReverse = !sortReverse" style="cursor:pointer">
                                QuoteVolume
                                <span ng-cloak ng-show="sortType == 'quoteVolume' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'quoteVolume' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th class="hidden-xs" ng-click="sortType ='high24hr'; sortReverse = !sortReverse" style="cursor:pointer">
                                High24hr
                                <span ng-cloak ng-show="sortType == 'high24hr' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'high24hr' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th class="hidden-xs" ng-click="sortType ='low24hr'; sortReverse = !sortReverse" style="cursor:pointer">
                                Low24hr
                                <span ng-cloak ng-show="sortType == 'low24hr' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'low24hr' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th ng-click="sortType ='percentChange'; sortReverse = !sortReverse" style="cursor:pointer">
                                Percent Change
                                <span ng-cloak ng-show="sortType == 'percentChange' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'percentChange' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th ng-click="sortType ='rsi'; sortReverse = !sortReverse" style="cursor:pointer">
                                <div class="dropdown" style="float:left;margin-top:7px; margin-left:7px">Rsi&nbsp;</div>
                                <div class="dropdown" style="float:left;">
                                    <select ng-click="$event.stopPropagation();" class="form-control input-sm" style="width:60px;height:30px" ng-model="rsiPeriod" ng-change="changeRsiPeriod(rsiPeriod);">
                                        <option value=14>14</option>
                                        <option value=30>30</option>
                                        <option value=60>60</option>
                                        <option value=90>90</option>
                                    </select>
                                </div>
                                <span ng-cloak ng-show="sortType == 'rsi' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'rsi' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="currency in currencyListETH| orderBy:sortType:sortReverse" ng-cloak>
                            <td class="hidden-lg" style="cursor:pointer" ng-click="addTab(currency.name)">
                                <div style="margin-left:5px">
                                    <span class="btn-label" style="color:dodgerblue;cursor:pointer" uib-tooltip="Chart" uib-tooltip-placement="left" tooltip-append-to-body="true"><i class="fa fa-bar-chart" aria-hidden="true"></i></span>
                                </div>
                            </td>
                            <td class="hidden-sm hidden-xs" style="cursor:pointer">
                                <a tabindex="0" value="" uib-popover-template="dynamicPopover.templateUrl" popover-title="{{currency.name}}" popover-placement="right" popover-trigger="'outsideClick'" style="cursor:pointer" ng-click="openPopover(currency.name);">
                                    <span class="btn-label" style="color:dodgerblue;"><i class="fa fa-bar-chart" aria-hidden="true"></i></span>
                                </a>
                            </td>
                            <td><img src="~/images/bitcoin.png" class="hidden-xs" /> {{currency.name}}</td>
                            <td>{{currency.last}}</td>
                            <td class="hidden-sm hidden-xs">{{currency.lowestAsk}}</td>
                            <td class="hidden-sm hidden-xs">{{currency.highestBid}}</td>
                            <td class="hidden-sm hidden-xs">{{currency.baseVolume| number}}</td>
                            <td class="hidden-sm hidden-xs">{{currency.quoteVolume| number}}</td>
                            <td class="hidden-xs">{{currency.high24hr}}</td>
                            <td class="hidden-xs">{{currency.low24hr}}</td>
                            <td style="color:{{get24hColor(currency.percentChange)}}">{{get24hChange(currency.percentChange)}} %</td>
                            <td ng-if="currency.rsi >0">{{currency.rsi}}</td>
                            <td ng-if="currency.rsi == 0">--</td>
                            <td ng-if="currency.rsi == null" style="padding:0px"><img src="~/images/loader.gif" width="30" style="margin-right:10px;margin-left:10px" /></td>    </tr>
                    </tbody>
                </table>

            </uib-tab>

            <uib-tab index="2">
                <uib-tab-heading>
                    <img class="hidden-xs" src="~/images/monero.png" /> MONERO
                </uib-tab-heading>

                <table class="table table-striped table-bordered" style="margin-top:7px">
                    <thead>
                        <tr class="headerTable">
                            <th></th>
                            <th ng-click="sortType ='name'; sortReverse = !sortReverse" style="cursor:pointer">
                                Name
                                <span ng-cloak ng-show="sortType == 'name' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'name' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th ng-click="sortType ='last'; sortReverse = !sortReverse" style="cursor:pointer">
                                Last
                                <span ng-cloak ng-show="sortType == 'last' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'last' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th class="hidden-sm hidden-xs" ng-click="sortType ='lowestAsk'; sortReverse = !sortReverse" style="cursor:pointer">
                                LowestAsk
                                <span ng-cloak ng-show="sortType == 'lowestAsk' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'lowestAsk' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th class="hidden-sm hidden-xs" ng-click="sortType ='highestBid'; sortReverse = !sortReverse" style="cursor:pointer">
                                HighestBid
                                <span ng-cloak ng-show="sortType == 'highestBid' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'highestBid' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th class="hidden-sm hidden-xs" ng-click="sortType ='baseVolume'; sortReverse = !sortReverse" style="cursor:pointer">
                                BaseVolume
                                <span ng-cloak ng-show="sortType == 'baseVolume' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'baseVolume' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th class="hidden-sm hidden-xs" ng-click="sortType ='quoteVolume'; sortReverse = !sortReverse" style="cursor:pointer">
                                QuoteVolume
                                <span ng-cloak ng-show="sortType == 'quoteVolume' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'quoteVolume' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th class="hidden-xs" ng-click="sortType ='high24hr'; sortReverse = !sortReverse" style="cursor:pointer">
                                High24hr
                                <span ng-cloak ng-show="sortType == 'high24hr' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'high24hr' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th class="hidden-xs" ng-click="sortType ='low24hr'; sortReverse = !sortReverse" style="cursor:pointer">
                                Low24hr
                                <span ng-cloak ng-show="sortType == 'low24hr' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'low24hr' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th ng-click="sortType ='percentChange'; sortReverse = !sortReverse" style="cursor:pointer">
                                Percent Change
                                <span ng-cloak ng-show="sortType == 'percentChange' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'percentChange' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th ng-click="sortType ='rsi'; sortReverse = !sortReverse" style="cursor:pointer">
                                <div class="dropdown" style="float:left;margin-top:7px; margin-left:7px">Rsi&nbsp;</div>
                                <div class="dropdown" style="float:left;">
                                    <select ng-click="$event.stopPropagation();" class="form-control input-sm" style="width:60px;height:30px" ng-model="rsiPeriod" ng-change="changeRsiPeriod(rsiPeriod);">
                                        <option value=14>14</option>
                                        <option value=30>30</option>
                                        <option value=60>60</option>
                                        <option value=90>90</option>
                                    </select>
                                </div>
                                <span ng-cloak ng-show="sortType == 'rsi' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'rsi' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                        </tr>
                    </thead>

                    <tbody>
                        <tr ng-repeat="currency in currencyListXMR| orderBy:sortType:sortReverse" ng-cloak>
                            <td class="hidden-lg" style="cursor:pointer" ng-click="addTab(currency.name)">
                                <div style="margin-left:5px">
                                    <span class="btn-label" style="color:dodgerblue;cursor:pointer" uib-tooltip="Chart" uib-tooltip-placement="left" tooltip-append-to-body="true"><i class="fa fa-bar-chart" aria-hidden="true"></i></span>
                                </div>
                            </td>
                            <td class="hidden-sm hidden-xs" style="cursor:pointer">
                                <a tabindex="0" value="" uib-popover-template="dynamicPopover.templateUrl" popover-title="{{currency.name}}" popover-placement="right" popover-trigger="'outsideClick'" style="cursor:pointer" ng-click="openPopover(currency.name);">
                                    <span class="btn-label" style="color:dodgerblue;"><i class="fa fa-bar-chart" aria-hidden="true"></i></span>
                                </a>
                            </td>
                            <td><img src="~/images/bitcoin.png" class="hidden-xs" /> {{currency.name}}</td>
                            <td>{{currency.last}}</td>
                            <td class="hidden-sm hidden-xs">{{currency.lowestAsk}}</td>
                            <td class="hidden-sm hidden-xs">{{currency.highestBid}}</td>
                            <td class="hidden-sm hidden-xs">{{currency.baseVolume| number}}</td>
                            <td class="hidden-sm hidden-xs">{{currency.quoteVolume| number}}</td>
                            <td class="hidden-xs">{{currency.high24hr}}</td>
                            <td class="hidden-xs">{{currency.low24hr}}</td>
                            <td style="color:{{get24hColor(currency.percentChange)}}">{{get24hChange(currency.percentChange)}} %</td>
                            <td ng-if="currency.rsi >0">{{currency.rsi}}</td>
                            <td ng-if="currency.rsi == 0">--</td>
                            <td ng-if="currency.rsi == null" style="padding:0px"><img src="~/images/loader.gif" width="30" style="margin-right:10px;margin-left:10px" /></td>
                         </tr>
                    </tbody>
                </table>

            </uib-tab>

            <uib-tab index="3">
                <uib-tab-heading>
                    <img class="hidden-xs" src="~/images/usdt.png" /> USDT
                </uib-tab-heading>

                <table class="table table-striped table-bordered" style="margin-top:7px">
                    <thead>
                        <tr class="headerTable">
                            <th></th>
                            <th ng-click="sortType ='name'; sortReverse = !sortReverse" style="cursor:pointer">
                                Name
                                <span ng-cloak ng-show="sortType == 'name' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'name' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th ng-click="sortType ='last'; sortReverse = !sortReverse" style="cursor:pointer">
                                Last
                                <span ng-cloak ng-show="sortType == 'last' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'last' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th class="hidden-sm hidden-xs" ng-click="sortType ='lowestAsk'; sortReverse = !sortReverse" style="cursor:pointer">
                                LowestAsk
                                <span ng-cloak ng-show="sortType == 'lowestAsk' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'lowestAsk' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th class="hidden-sm hidden-xs" ng-click="sortType ='highestBid'; sortReverse = !sortReverse" style="cursor:pointer">
                                HighestBid
                                <span ng-cloak ng-show="sortType == 'highestBid' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'highestBid' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th class="hidden-sm hidden-xs" ng-click="sortType ='baseVolume'; sortReverse = !sortReverse" style="cursor:pointer">
                                BaseVolume
                                <span ng-cloak ng-show="sortType == 'baseVolume' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'baseVolume' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th class="hidden-sm hidden-xs" ng-click="sortType ='quoteVolume'; sortReverse = !sortReverse" style="cursor:pointer">
                                QuoteVolume
                                <span ng-cloak ng-show="sortType == 'quoteVolume' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'quoteVolume' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th class="hidden-xs" ng-click="sortType ='high24hr'; sortReverse = !sortReverse" style="cursor:pointer">
                                High24hr
                                <span ng-cloak ng-show="sortType == 'high24hr' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'high24hr' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th class="hidden-xs" ng-click="sortType ='low24hr'; sortReverse = !sortReverse" style="cursor:pointer">
                                Low24hr
                                <span ng-cloak ng-show="sortType == 'low24hr' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'low24hr' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th ng-click="sortType ='percentChange'; sortReverse = !sortReverse" style="cursor:pointer">
                                Percent Change
                                <span ng-cloak ng-show="sortType == 'percentChange' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'percentChange' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                            <th ng-click="sortType ='rsi'; sortReverse = !sortReverse" style="cursor:pointer">
                                <div class="dropdown" style="float:left;margin-top:7px; margin-left:7px">Rsi&nbsp;</div>
                                <div class="dropdown" style="float:left;">
                                    <select ng-click="$event.stopPropagation();" class="form-control input-sm" style="width:60px;height:30px" ng-model="rsiPeriod" ng-change="changeRsiPeriod(rsiPeriod);">
                                        <option value=14>14</option>
                                        <option value=30>30</option>
                                        <option value=60>60</option>
                                        <option value=90>90</option>
                                    </select>
                                </div>
                                <span ng-cloak ng-show="sortType == 'rsi' && sortReverse" class="glyphicon glyphicon-triangle-bottom"></span>
                                <span ng-cloak ng-show="sortType == 'rsi' && !sortReverse" class="glyphicon glyphicon-triangle-top"></span>
                            </th>
                        </tr>
                    </thead>

                    <tbody>
                        <tr ng-repeat="currency in currencyListUSD| orderBy:sortType:sortReverse" ng-cloak>
                           
                            <td class="hidden-lg" style="cursor:pointer" ng-click="addTab(currency.name)">
                                <div style="margin-left:5px">
                                    <span class="btn-label" style="color:dodgerblue;cursor:pointer" uib-tooltip="Chart" uib-tooltip-placement="left" tooltip-append-to-body="true"><i class="fa fa-bar-chart" aria-hidden="true"></i></span>
                                </div>
                            </td>
                            <td class="hidden-sm hidden-xs" style="cursor:pointer">
                                <a tabindex="0" value="" uib-popover-template="dynamicPopover.templateUrl" popover-title="{{currency.name}}" popover-placement="right" popover-trigger="'outsideClick'" style="cursor:pointer" ng-click="openPopover(currency.name);">
                                    <span class="btn-label" style="color:dodgerblue;"><i class="fa fa-bar-chart" aria-hidden="true"></i></span>
                                </a>
                            </td>
                            <td><img src="~/images/bitcoin.png" class="hidden-xs" /> {{currency.name}}</td>
                            <td>{{currency.last}}</td>
                            <td class="hidden-sm hidden-xs">{{currency.lowestAsk}}</td>
                            <td class="hidden-sm hidden-xs">{{currency.highestBid}}</td>
                            <td class="hidden-sm hidden-xs">{{currency.baseVolume| number}}</td>
                            <td class="hidden-sm hidden-xs">{{currency.quoteVolume| number}}</td>
                            <td class="hidden-xs">{{currency.high24hr}}</td>
                            <td class="hidden-xs">{{currency.low24hr}}</td>
                            <td style="color:{{get24hColor(currency.percentChange)}}">{{get24hChange(currency.percentChange)}} %</td>
                            <td ng-if="currency.rsi >0">{{currency.rsi}}</td>
                            <td ng-if="currency.rsi == 0">--</td>
                            <td ng-if="currency.rsi == null" style="padding:0px"><img src="~/images/loader.gif" width="30" style="margin-right:10px;margin-left:10px" /></td>
                       </tr>
                    </tbody>
                </table>

            </uib-tab>

            <!-- DYNAMIC TABS-->
            <uib-tab ng-repeat="tab in currencyTabs" index="$index+4">
                <uib-tab-heading>
                    <span style="padding:0px;margin:0px;"><i style="color:dodgerblue" class="fa fa-bar-chart" aria-hidden="true"></i>  {{tab.name}}&nbsp;</span>
                    <button type="button" uib-tooltip="Close tab" class="close" data-dismiss="alert" aria-label="Close" ng-click="removeTab($index);" style="color: dimgray">
                        <span aria-hidden="true" ng-class="{red: hover}" ng-mouseenter="hover = true" ng-mouseleave="hover = false">&times;</span>
                    </button>
                </uib-tab-heading>

                <currency-tab name="{{tab.name}}"></currency-tab>
            </uib-tab>
        </uib-tabset>
    </div>
</div>

@section Scripts {
    <script src="~/App/app.js" asp-append-version="true"></script>
    <script src="~/App/cryptoApiService.js" asp-append-version="true"></script>
    <script src="~/App/chartDirective.js" asp-append-version="true"></script>
    <script src="~/App/home/currencyTab.js" asp-append-version="true"></script>
    <script src="~/App/home/Index.js" asp-append-version="true"></script>
    <link href="~/css/loader.css" rel="stylesheet" />
    <script language="javascript">
            $(".overlay").show();
            var target = document.getElementById('spinner')
            var spinner = new Spinner(opts).spin(target);

            $(document).ready(function () {
	//llll
                $(".mainDiv").show();
            });
    </script>
}
